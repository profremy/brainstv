<div class="jumbotron container-fluid">
    <a href="/categories" class="btn btn-info marginTopBottomSmall"><i class="fa fa-arrow-circle-left"
            aria-hidden="true"></i><span>Back</span></a>

    <a href="/categories/newcategory" class="btn btn-success">Create/Add New</a>
    <nav class="navbar navbar-light bg-info">
        <a class="navbar-brand"> <%= membercategory.memberCategory %> CATEGORY</a>
        <a href="/categories/<%= membercategory.id %>/edit" class="btn btn-warning text-dark" title="Edit Category"><i
                class="fa fa-pencil" aria-hidden="true"></i>Edit
        </a>


        <%- include('../partials/deleteForm', { url: `/categories/${membercategory.id}`}) %>
    </nav>
    <hr class="my-1 document-divider" />

    <% if (assignedMembers.length > 0) { %>
    <p>Listing a total of <strong><%= assignedMembers.length %></strong> members assigned to this category</p>
    <!-- <%# assignedMembers.forEach(member => { %>
    <img height="100" width="100" src="<%#= member.profileImagePath %>">
    <%# }) %>
    <%# } %> -->

    <div class="table-responsive-sm">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th scope="col">First name</th>
                    <th scope="col">Last name</th>
                    <th scope="col">Email</th>
                    <th scope="col">Dob</span></th>
                    <th scope="col">#</span></th>
                </tr>
            </thead>
            <tbody>
                <% assignedMembers.forEach(member => { %>
                <tr>
                    <td><%= member.firstname %></td>
                    <td><%= member.lastname %></td>
                    <td><%= member.email %></td>
                    <td><%= member.dob.toISOString().split('T')[0] %></td>
                    <td>
                        <!-- Button trigger modal -->
                        <button type="button" title="More..." class="btn btn-info viewMore__btn" data-toggle="modal"
                            data-target="#moreMemberInfo-<%= member.id %>">
                            <i class="fa fa-ellipsis-v" aria-hidden="true"></i>
                        </button>
                        <!-- Modal -->
                        <div class="modal fade" id="moreMemberInfo-<%= member.id %>" tabindex="-1" role="dialog"
                            aria-labelledby="moreMemberInfoTitle" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                <div class="modal-content">
                                    <div class="modal-header bg-info">
                                        <h5 class="modal-title" id="moreMemberInfoTitle"> More details on
                                            <%= member.firstname.toUpperCase() %></h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <img height="100" width="100" src="<%= member.profileImagePath %>"
                                            class="img-fluid img-thumbnail" alt="<%= member.firstname %>">
                                        <div class="table-responsive-sm">
                                            <table class="table table-hover">
                                                <thead>
                                                    <tr>
                                                        <th scope="col">Gender</th>
                                                        <th scope="col">Class</th>
                                                        <th scope="col">Phone</th>
                                                        <th scope="col">City</th>
                                                        <th scope="col">RegDate</th>
                                                        <th scope="col">Consent</th>
                                                    </tr>
                                                <tbody>
                                                    <tr>
                                                        <td><%= member.gender %></td>
                                                        <td><%= member.class %></td>
                                                        <td><%= member.phone %></td>
                                                        <td><%= member.city %></td>
                                                        <td><%= member.dateJoined.toISOString().split('T')[0] %></td>
                                                        <td><%= member.signedConsent %></td>
                                                    </tr>
                                                </tbody>
                                                </thead>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="modal-footer bg-light">
                                        <button type="button" class="btn btn-info" data-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="viewMore"></div>

                    </td>

                </tr>
                <% }) %>
            </tbody>
        </table>
    </div>

    <% } %>



</div>